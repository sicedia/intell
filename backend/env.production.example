# =============================================================================
# Django Backend - Production Environment Variables
# Copy to .env for production deployment
# NEVER commit .env to version control!
# =============================================================================

# Django Core Settings
# ====================
# SECRET_KEY - Generate a STRONG, UNIQUE key for production!
# Run: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=your-super-secret-production-key-change-this-immediately

# DEBUG - MUST be False in production
DEBUG=False

# ALLOWED_HOSTS - Comma-separated list of your production domain(s)
ALLOWED_HOSTS=intell.cedia.org.ec

# Environment - Determines which settings module to use
ENVIRONMENT=production

# Database Configuration
# ======================
# Production PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
# In Docker: postgresql://intell_user:password@db:5432/intell
DATABASE_URL=postgresql://intell_user:your-strong-password@db:5432/intell

# CORS Configuration
# =================
# Only allow your production frontend domain
CORS_ALLOWED_ORIGINS=https://intell.cedia.org.ec
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_ALL_ORIGINS=False

# CSRF Configuration
# =================
CSRF_TRUSTED_ORIGINS=https://intell.cedia.org.ec

# Security Settings (REQUIRED for HTTPS)
# =======================================
SECURE_SSL_REDIRECT=True
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True

# Microsoft OAuth2 / Azure AD / Entra ID Configuration
# =======================================================
# Get these values from Azure Portal > App Registrations
MICROSOFT_CLIENT_ID=your-client-id-here
MICROSOFT_CLIENT_SECRET=your-client-secret-here
MICROSOFT_TENANT_ID=your-tenant-id-or-common

# Redirect URIs for production
MICROSOFT_REDIRECT_URI=https://intell.cedia.org.ec/api/auth/microsoft/callback/
MICROSOFT_LOGIN_REDIRECT_URL=https://intell.cedia.org.ec/en/dashboard
MICROSOFT_LOGIN_ERROR_URL=https://intell.cedia.org.ec/en/login

# Email Configuration
# ===================
# Production SMTP configuration
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.your-provider.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@domain.com
EMAIL_HOST_PASSWORD=your-email-password
DEFAULT_FROM_EMAIL=noreply@intell.cedia.org.ec

# Redis Configuration (for Celery and Channels)
# =============================================
# In Docker: redis://redis:6379
# Celery uses DB 0, Channels uses DB 1
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
REDIS_URL=redis://redis:6379/1

# Internationalization
# ====================
LANGUAGE_CODE=es
TIME_ZONE=America/Lima

# Logging
# =======
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
# In production, WARNING or ERROR is recommended
DJANGO_LOG_LEVEL=WARNING

# AI Descriptions / LiteLLM Configuration
# =======================================
# API key for LiteLLM provider (used for AI-generated chart descriptions)
# REQUIRED for production - get from your LiteLLM provider
LITELLM_API_KEY=your-litellm-api-key-here
# Base URL for LiteLLM API (default: CEDIA API endpoint)
LITELLM_BASE_URL=https://api.cedia.org.ec/v1

# Additional Settings
# ===================
# ADMIN_URL=admin/  # Custom admin URL for security (optional)
